<!doctype html>
<meta charset="utf-8">

<div id="graph"></div>

<script type="module">

  import Module from "./src/module.js";
  import Viz from "./src/viz.js";

  const moduleUrl = new URL("./src/module.wasm", import.meta.url);

  function instance() {
    return Module({ source: fetch(moduleUrl) }).then(m => new Viz(m));
  }

  instance().then(viz => {
    document.getElementById("graph").appendChild(viz.renderSVGElement("digraph { a -> b }"));
  });

</script>
